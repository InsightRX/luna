<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Light-weight Universal NLME Admininstrator • luna</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Light-weight Universal NLME Admininstrator">
<meta name="description" content="Organizes model development workflows in NONMEM and nlmixr2. The organization of projects is implemented through YAML files.">
<meta property="og:description" content="Organizes model development workflows in NONMEM and nlmixr2. The organization of projects is implemented through YAML files.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">luna</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/InsightRX/uno/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><strong>THIS R PACKAGE IS UNDER DEVELOPMENT, NOT READY FOR PRODUCTION USE!!</strong></p>
<div class="section level1">
<div class="page-header"><h1 id="luna">Luna<a class="anchor" aria-label="anchor" href="#luna"></a>
</h1></div>
<p>Luna is a tool to organize your NONMEM and nlmixr2 modeling workflows in a structured and traceable manner. Luna is an acronym for <strong>Light-weight Universal NLME Admininstrator</strong></p>
<p>The organization of projects is implemented through YAML files, which forces the modeler to define each step during the modeling process prior to execution of the step. This ensures that all steps are properly logged and at any time during the model development a clear log of modeling steps is available.</p>
<div class="section level2">
<h2 id="goals-and-rationale">Goals and rationale<a class="anchor" aria-label="anchor" href="#goals-and-rationale"></a>
</h2>
<p>The goal of Luna is to implement a structured model development: if model development and results are structured, it’s easier for anyone to interpret (human and AI agents).</p>
</div>
<div class="section level2">
<h2 id="justification">Justification<a class="anchor" aria-label="anchor" href="#justification"></a>
</h2>
<p><strong>But don’t we already have workflow managers, like Pirana, Finch Studio, ShinyMixR, etc?</strong></p>
<p>Yes, and those tools are great and work for a lot of folks. However, we believe that, especially for advanced modelers or modelers who come in from a (software-) engineering background, often prefer an interface that is accessible either programmatically (from R) or from the command line (CLI). This is the primary target audience of Luna. However, we do think that many novice modelers will also like the flexibility of Luna.</p>
<p><strong>But why not just keep a modeling workflow in RMarkdown or Quarto notebooks</strong></p>
<p>That is certainly an option, and may work for some projects. However, we feel that for most model development projects, having an R notebook as the primary source of your model workflow quickly becomes unwieldy: after a few model runs the notebook file quickly becomes too long to navigate easily. Luna will have features to export to R notebooks in the future, so the ability to use R notebooks for creating automated reports and slides will still be available.</p>
</div>
</div>
<div class="section level1">
<h1 id="implementation">Implementation<a class="anchor" aria-label="anchor" href="#implementation"></a>
</h1>
<div class="section level2">
<h2 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h2>
<p>All high-level luna functions that the user needs start with <code>luna_</code>. For example, to run a model, use <code>luna_run(...)</code>, and to get a list of models in the current project, use <code><a href="reference/luna_list.html">luna_list()</a></code>.</p>
<p>The luna package also exposes various other functions to perform certain tasks, but those do not make use of the <code>luna</code> workflow and in principle should not be used within a luna workflow.</p>
</div>
<div class="section level2">
<h2 id="dependencies-and-extensions">Dependencies and extensions<a class="anchor" aria-label="anchor" href="#dependencies-and-extensions"></a>
</h2>
<p>Luna depends on Pharmpy and pharmr (the R wrapper around Pharmpy). The dependency is primarily to use parsing of models and result files. It can of course also leverage Pharmpy’s model execution tools, bootstrap tool, and the automated model development tools. Luna is, however, flexible in what tools are used to perform modeling analyses. It provides an interface to PsN for running models, bootstraps, and any other PsN tools.</p>
</div>
</div>
<div class="section level1">
<h1 id="example-usage">Example usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h1>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/InsightRX/uno" class="external-link">luna</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Create a new project (only if starting from scratch, or if creating a new Luna project from existing model folder)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/luna_new_project.html">luna_new_project</a></span><span class="op">(</span></span>
<span>  <span class="st">"uvm"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"UVM vancomycin in obese patients"</span>,</span>
<span>  folder <span class="op">=</span> <span class="va">proj_path</span>,</span>
<span>  <span class="co"># force = TRUE,</span></span>
<span>  return_object <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Load an existing project</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/luna_load_project.html">luna_load_project</a></span><span class="op">(</span></span>
<span>  folder <span class="op">=</span> <span class="va">proj_path</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## To list runs, just print the luna project object</span></span>
<span><span class="va">project</span></span>
<span></span>
<span><span class="co">## To run models:</span></span>
<span><span class="fu"><a href="reference/luna_run.html">luna_run</a></span><span class="op">(</span><span class="st">"run4"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## If the model was already run, use `force` to rerun:</span></span>
<span><span class="fu"><a href="reference/luna_run.html">luna_run</a></span><span class="op">(</span><span class="st">"run4"</span>, force<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Show model run info:</span></span>
<span><span class="fu"><a href="reference/luna_info.html">luna_info</a></span><span class="op">(</span><span class="st">"run1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Show model run info side-by-side for multiple runs:</span></span>
<span><span class="fu"><a href="reference/luna_compare.html">luna_compare</a></span><span class="op">(</span><span class="st">"run1"</span>, <span class="st">"run2"</span>, <span class="st">"run3"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Load the dataset from a model into R</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/luna_dataset.html">luna_dataset</a></span><span class="op">(</span><span class="st">"run2"</span><span class="op">)</span></span></code></pre>
<div class="section level2">
<h2 id="available-functions">Available functions<a class="anchor" aria-label="anchor" href="#available-functions"></a>
</h2>
<pre><code><span><span class="co">## Projects</span></span>
<span><span class="fu"><a href="reference/luna_new_project.html">luna_new_project</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_load_project.html">luna_load_project</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_list.html">luna_list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Model run workflow</span></span>
<span><span class="fu"><a href="reference/luna_run.html">luna_run</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_info.html">luna_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_compare.html">luna_compare</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_help.html">luna_help</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_note.html">luna_note</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_tag.html">luna_tag</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_edit.html">luna_edit</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## External tools</span></span>
<span><span class="fu"><a href="reference/luna_tool.html">luna_tool</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Diagnostic plots</span></span>
<span><span class="fu"><a href="reference/luna_gof.html">luna_gof</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_ind.html">luna_ind</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_xpose.html">luna_xpose</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Misc</span></span>
<span><span class="fu"><a href="reference/luna_dataset.html">luna_dataset</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/luna_tables.html">luna_tables</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/InsightRX/uno/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing luna</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ron Keizer <br><small class="roles"> Maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ron Keizer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
