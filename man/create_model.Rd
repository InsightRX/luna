% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_model.R
\name{create_model}
\alias{create_model}
\title{Create model}
\usage{
create_model(
  route = c("auto", "oral", "iv"),
  lag_time = FALSE,
  n_transit_compartments = 0,
  bioavailability = FALSE,
  n_cmt = 1,
  elimination = c("linear", "michaelis-menten"),
  iiv = "all",
  iiv_type = "exp",
  ruv = c("additive", "proportional", "combined", "ltbs"),
  covariates = NULL,
  scale_observations = NULL,
  data = NULL,
  name = NULL,
  estimation_method = c("foce", "saem"),
  estimation_options = list(),
  uncertainty_method = c("sandwich", "smat", "rmat", "efim", "none"),
  blq_method = NULL,
  lloq = NULL,
  tool = c("nonmem", "nlmixr", "nlmixr2"),
  tables = c("fit"),
  full_tables = FALSE,
  auto_init = TRUE,
  auto_stack_encounters = TRUE,
  mu_reference = FALSE,
  settings = list(),
  verbose = FALSE
)
}
\arguments{
\item{route}{route of administration, either \code{oral} or \code{iv}}

\item{lag_time}{add a lag time, default is \code{FALSE}}

\item{n_transit_compartments}{number of transit-compartments for absorption
model. Default is \code{0}.}

\item{bioavailability}{Add a bioavailability parameter? Default is \code{FALSE}.
Will add using a logit function.}

\item{n_cmt}{number of elimination and distribution compartments. Default is
1, i.e. no peripheral distributions.}

\item{elimination}{elimination type, either \code{linear} or \code{michaelis-menten}.}

\item{iiv}{either \code{character} or a \code{list} object. If \code{character}, should be
either "basic" (only CL and V parameters) or "all" (IIV on all parameters).
If specified as a list object, it should contain the IIV magnitude (on SD
scale) for parameters and potential correlations specified using a tilde,
e.g. \code{list("CL" = 0.2, "V" = 0.3, "CL~V" = 0.1)}.}

\item{ruv}{one of \code{proportional}, \code{additive}, or \code{combined}.}

\item{covariates}{list of parameter-covariate effects, e.g.
\verb{list(CL = list(WT = "pow", CRCL = "lin"), V = list(WT = "pow")}
Values in list need to match one of the effects allowed by pharmpy.}

\item{scale_observations}{scale observations by factor, e.g. due to unit
differences between dose and concentration. E.g. \code{scale_observations = 1000}
will add \code{S1 = V/1000} (for a 1-compartment model) to NONMEM code.}

\item{data}{data.frame as input to NONMEM / nlmixr.}

\item{name}{name of model}

\item{estimation_method}{estimation method.}

\item{estimation_options}{options for estimation method, specified as list,
e.g. \code{NITER} or \code{ISAMPLE}.}

\item{uncertainty_method}{Compute uncertainty for parameter estimations.
One of \code{sandwich} (default), \code{smat}, \code{fmat}, \code{efim}.}

\item{blq_method}{method for handling data below the limit of quantification.
Available options are \code{m1}, \code{m3}, \code{m4}, \code{m5}, \code{m6}, \code{m7}, as described
by Beal et al. Default is no handling of BLQ data (\code{NULL}).}

\item{lloq}{(optional) a numeric value specifying the limit of
quantification for observations. Will be disregarded if an \code{LLOQ} column is
in the dataset.}

\item{tool}{output model type, either \code{nonmem} or \code{nlmixr}}

\item{tables}{which pre-specified tables to add, defaults to \code{parameters}
and \code{fit} tables.}

\item{full_tables}{For the default tables, should all input columns from be
included in the output tables? Default \code{FALSE}.}

\item{auto_init}{automatically update initial estimates to reasonable values
based on a crude assessment of the PK data. Default is \code{TRUE}.}

\item{auto_stack_encounters}{detects if TIME within an individual is
decreasing from one record to another, which NONMEM cannot handle.
If this happens, it will add a reset event (EVID=3) at that time, and
increase the TIME for subsequent events so that NONMEM does not throw an
error. It will increase the time for the next encounter to the maximum
encounter length across all subjects in the dataset (rounded up to 100).
If no decreasing TIME is detected, nothing will be done (most common case).
This feature is useful e.g. for crossover trials when data on the same
individual ispresent but is included in the dataset as time-after-dose and
not actual time since first overall dose.}

\item{mu_reference}{MU-reference the model, useful for SAEM estimation
method.}

\item{settings}{additional settings for model creation and model estimation.
TBD}

\item{verbose}{verbose output?}

\item{iiv_effect}{either \code{character} or \code{list}. If character, one of
\code{c("exp", "add", "prop", "log", "re_log")}. If \code{list}, should specify for
each parameter the effect type, e.g. \code{list(CL = "add", V = "exp")}. Default
is \code{"exp"} for all.}
}
\description{
This is essentially a wrapper around the model-creation and -modification
functionality in pharmr/Pharmpy.
}
