[{"path":"https://insightrx.github.io/luna/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ron Keizer. Maintainer.","code":""},{"path":"https://insightrx.github.io/luna/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Keizer R (2025). luna: Light-weight Universal NLME Admininstrator. R package version 0.1.0, https://github.com/InsightRX/uno.","code":"@Manual{,   title = {luna: Light-weight Universal NLME Admininstrator},   author = {Ron Keizer},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/InsightRX/uno}, }"},{"path":"https://insightrx.github.io/luna/index.html","id":"luna","dir":"","previous_headings":"","what":"Light-weight Universal NLME Admininstrator","title":"Light-weight Universal NLME Admininstrator","text":"Luna tool organize NONMEM nlmixr2 modeling workflows structured traceable manner. Luna acronym Light-weight Universal NLME Admininstrator organization projects implemented YAML files, forces modeler define step modeling process prior execution step. ensures steps properly logged time model development clear log modeling steps available.","code":""},{"path":"https://insightrx.github.io/luna/index.html","id":"goals-and-rationale","dir":"","previous_headings":"","what":"Goals and rationale","title":"Light-weight Universal NLME Admininstrator","text":"goal Luna implement structured model development: model development results structured, ’s easier anyone interpret (human AI agents).","code":""},{"path":"https://insightrx.github.io/luna/index.html","id":"justification","dir":"","previous_headings":"","what":"Justification","title":"Light-weight Universal NLME Admininstrator","text":"don’t already workflow managers, like Pirana, Finch Studio, ShinyMixR, etc? Yes, tools great work lot folks. However, believe , especially advanced modelers modelers come (software-) engineering background, often prefer interface accessible either programmatically (R) command line (CLI). primary target audience Luna. However, think many novice modelers also like flexibility Luna. just keep modeling workflow RMarkdown Quarto notebooks certainly option, may work projects. However, feel model development projects, R notebook primary source model workflow quickly becomes unwieldy: model runs notebook file quickly becomes long navigate easily. Luna features export R notebooks future, ability use R notebooks creating automated reports slides still available.","code":""},{"path":[]},{"path":"https://insightrx.github.io/luna/index.html","id":"structure","dir":"","previous_headings":"","what":"Structure","title":"Light-weight Universal NLME Admininstrator","text":"high-level luna functions user needs start luna_. example, run model, use luna_run(...), get list models current project, use luna_list(). luna package also exposes various functions perform certain tasks, make use luna workflow principle used within luna workflow.","code":""},{"path":"https://insightrx.github.io/luna/index.html","id":"dependencies-and-extensions","dir":"","previous_headings":"","what":"Dependencies and extensions","title":"Light-weight Universal NLME Admininstrator","text":"Luna depends Pharmpy pharmr (R wrapper around Pharmpy). dependency primarily use parsing models result files. can course also leverage Pharmpy’s model execution tools, bootstrap tool, automated model development tools. Luna , however, flexible tools used perform modeling analyses. provides interface PsN running models, bootstraps, PsN tools.","code":""},{"path":"https://insightrx.github.io/luna/index.html","id":"example-usage","dir":"","previous_headings":"","what":"Example usage","title":"Light-weight Universal NLME Admininstrator","text":"","code":"library(luna)  ## Create a new project (only if starting from scratch, or if creating a new Luna project from existing model folder) project <- luna_new_project(   \"uvm\",   description = \"UVM vancomycin in obese patients\",   folder = proj_path,   # force = TRUE,   return_object = TRUE )  ## Load an existing project project <- luna_load_project(   folder = proj_path )  ## To list runs, just print the luna project object project  ## To run models: luna_run(\"run4\")  ## If the model was already run, use `force` to rerun: luna_run(\"run4\", force=TRUE)  ## Show model run info: luna_info(\"run1\")  ## Show model run info side-by-side for multiple runs: luna_compare(\"run1\", \"run2\", \"run3\")  ## Load the dataset from a model into R dat <- luna_dataset(\"run2\")"},{"path":"https://insightrx.github.io/luna/index.html","id":"available-functions","dir":"","previous_headings":"","what":"Available functions","title":"Light-weight Universal NLME Admininstrator","text":"","code":"## Projects luna_new_project() luna_load_project() luna_list()  ## Model run workflow luna_run() luna_info() luna_compare() luna_help() luna_note() luna_tag() luna_edit()  ## External tools luna_tool()  ## Diagnostic plots luna_gof() luna_xpose()  ## Misc luna_dataset() luna_tables()"},{"path":"https://insightrx.github.io/luna/reference/add_covariates_to_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function to add covariates to a pharmpy model — add_covariates_to_model","title":"Wrapper function to add covariates to a pharmpy model — add_covariates_to_model","text":"Wrapper function add covariates pharmpy model","code":""},{"path":"https://insightrx.github.io/luna/reference/add_covariates_to_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function to add covariates to a pharmpy model — add_covariates_to_model","text":"","code":"add_covariates_to_model(model, covariates, data = NULL)"},{"path":"https://insightrx.github.io/luna/reference/add_covariates_to_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function to add covariates to a pharmpy model — add_covariates_to_model","text":"model pharmpy model object covariates list parameter-covariate effects, e.g. list(CL = list(WT = \"pow\", CRCL = \"lin\"), V = list(WT = \"pow\") Values list need match one effects allowed pharmpy. data dataset (data.frame). supplied, check covariate actually available, throw warning (skip) .","code":""},{"path":"https://insightrx.github.io/luna/reference/add_table_to_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Add new $TABLE record to output variables — add_table_to_model","title":"Add new $TABLE record to output variables — add_table_to_model","text":"Add new $TABLE record output variables","code":""},{"path":"https://insightrx.github.io/luna/reference/add_table_to_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add new $TABLE record to output variables — add_table_to_model","text":"","code":"add_table_to_model(model, variables, firstonly = FALSE, file)"},{"path":"https://insightrx.github.io/luna/reference/add_table_to_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add new $TABLE record to output variables — add_table_to_model","text":"model pharmpy model object variables character vector variable names firstonly add FIRSTONLY parameter $TABLE record file path file, e.g. sdtab","code":""},{"path":"https://insightrx.github.io/luna/reference/calc_condition_number.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the condition number given a matrix — calc_condition_number","title":"Calculate the condition number given a matrix — calc_condition_number","text":"Calculate condition number given matrix","code":""},{"path":"https://insightrx.github.io/luna/reference/calc_condition_number.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the condition number given a matrix — calc_condition_number","text":"","code":"calc_condition_number(mat)"},{"path":"https://insightrx.github.io/luna/reference/call_nmfe.html","id":null,"dir":"Reference","previous_headings":"","what":"Call nmfe — call_nmfe","title":"Call nmfe — call_nmfe","text":"Call nmfe","code":""},{"path":"https://insightrx.github.io/luna/reference/call_nmfe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Call nmfe — call_nmfe","text":"","code":"call_nmfe(   model_file,   output_file,   path,   nmfe = \"/opt/NONMEM/nm_current/run/nmfe75\",   console = FALSE,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/call_nmfe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Call nmfe — call_nmfe","text":"model_file model file, e.g. \"run.mod\" output_file output file, e.g. \"run.lst\" path run folder path, e.g. \"run1\" nmfe path nmfe batch file run NONMEM console show output nmfe console? Default FALSE verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Run model with pharmpy — call_pharmpy_fit","title":"Run model with pharmpy — call_pharmpy_fit","text":"Run model pharmpy","code":""},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run model with pharmpy — call_pharmpy_fit","text":"","code":"call_pharmpy_fit(   model_file,   path,   clean = TRUE,   console = TRUE,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run model with pharmpy — call_pharmpy_fit","text":"model_file model file, e.g. \"run.mod\" path run folder path, e.g. \"run1\" console show output nmfe console? Default FALSE verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_tool.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic function for running a pharmpy tool, like bootstrap, or modelsearch. A separate function is available for fit() — call_pharmpy_tool","title":"Generic function for running a pharmpy tool, like bootstrap, or modelsearch. A separate function is available for fit() — call_pharmpy_tool","text":"Generic function running pharmpy tool, like bootstrap, modelsearch. separate function available fit()","code":""},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_tool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic function for running a pharmpy tool, like bootstrap, or modelsearch. A separate function is available for fit() — call_pharmpy_tool","text":"","code":"call_pharmpy_tool(   id,   model = NULL,   results = NULL,   tool = NULL,   folder = NULL,   clean = TRUE,   verbose = TRUE,   force = FALSE,   options = list(),   ... )"},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_tool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic function for running a pharmpy tool, like bootstrap, or modelsearch. A separate function is available for fit() — call_pharmpy_tool","text":"id model id. Optional. specified, generate random modelfit id. id used create run folder. model Pharmpy model object, preferably created using luna::create_model(). verbose verbose output? ... passed onto tool clear one run folders exists tool, want remove first?","code":""},{"path":"https://insightrx.github.io/luna/reference/call_pharmpy_tool.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generic function for running a pharmpy tool, like bootstrap, or modelsearch. A separate function is available for fit() — call_pharmpy_tool","text":"fit object","code":""},{"path":"https://insightrx.github.io/luna/reference/call_psn.html","id":null,"dir":"Reference","previous_headings":"","what":"Call PsN — call_psn","title":"Call PsN — call_psn","text":"Call PsN","code":""},{"path":"https://insightrx.github.io/luna/reference/call_psn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Call PsN — call_psn","text":"","code":"call_psn(   model_file,   output_file,   path,   options = c(),   tool = c(\"execute\", \"vpc\", \"bootstrap\", \"sir\", \"proseval\"),   console = TRUE,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/call_psn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Call PsN — call_psn","text":"model_file model file, e.g. \"run.mod\" output_file output file, e.g. \"run.lst\" path run folder path, e.g. \"run1\" options vector arguments pass PsN tool, e.g. c(\"--samples=100\", \"--dir=\"test\") console show output nmfe console? Default FALSE verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/change_nonmem_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Change $DATA in NONMEM model code — change_nonmem_dataset","title":"Change $DATA in NONMEM model code — change_nonmem_dataset","text":"Change $DATA NONMEM model code","code":""},{"path":"https://insightrx.github.io/luna/reference/change_nonmem_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change $DATA in NONMEM model code — change_nonmem_dataset","text":"","code":"change_nonmem_dataset(code, path)"},{"path":"https://insightrx.github.io/luna/reference/change_nonmem_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change $DATA in NONMEM model code — change_nonmem_dataset","text":"code model code, either single line string, vector lines path path new dataset","code":""},{"path":"https://insightrx.github.io/luna/reference/check_llm_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Check presence of LLM API key — check_llm_key","title":"Check presence of LLM API key — check_llm_key","text":"Check presence LLM API key","code":""},{"path":"https://insightrx.github.io/luna/reference/check_llm_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check presence of LLM API key — check_llm_key","text":"","code":"check_llm_key()"},{"path":"https://insightrx.github.io/luna/reference/clean_modelfit_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean / check the dataset before passing to model fitting tool — clean_modelfit_data","title":"Clean / check the dataset before passing to model fitting tool — clean_modelfit_data","text":"Clean / check dataset passing model fitting tool","code":""},{"path":"https://insightrx.github.io/luna/reference/clean_modelfit_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean / check the dataset before passing to model fitting tool — clean_modelfit_data","text":"","code":"clean_modelfit_data(model, data = NULL)"},{"path":"https://insightrx.github.io/luna/reference/clean_nonmem_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove temporary files from NONMEM run — clean_nonmem_folder","title":"Remove temporary files from NONMEM run — clean_nonmem_folder","text":"Remove temporary files NONMEM run","code":""},{"path":"https://insightrx.github.io/luna/reference/clean_nonmem_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove temporary files from NONMEM run — clean_nonmem_folder","text":"","code":"clean_nonmem_folder(path)"},{"path":"https://insightrx.github.io/luna/reference/clean_nonmem_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove temporary files from NONMEM run — clean_nonmem_folder","text":"path path NONMEM run folder","code":""},{"path":"https://insightrx.github.io/luna/reference/clean_pharmpy_runfolders.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean pharmpy run folders like modelfit1 etc — clean_pharmpy_runfolders","title":"Clean pharmpy run folders like modelfit1 etc — clean_pharmpy_runfolders","text":"Clean pharmpy run folders like modelfit1 etc","code":""},{"path":"https://insightrx.github.io/luna/reference/clean_pharmpy_runfolders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean pharmpy run folders like modelfit1 etc — clean_pharmpy_runfolders","text":"","code":"clean_pharmpy_runfolders(   id = NULL,   folder,   tool,   remove = TRUE,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/clean_pharmpy_runfolders.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean pharmpy run folders like modelfit1 etc — clean_pharmpy_runfolders","text":"id run id, e.g. run1. folder NONMEM model run. folder specified, create folder run1 current working directory, increment run number subsequent run. verbose verbose output? clean folders really removed (TRUE), just show warning (FALSE)","code":""},{"path":"https://insightrx.github.io/luna/reference/combine_info_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine columns with run info into a data.frame and make sure that rows match (e.g. parameters) — combine_info_columns","title":"Combine columns with run info into a data.frame and make sure that rows match (e.g. parameters) — combine_info_columns","text":"data.frames list column names can different row names (e.g. parameter names).","code":""},{"path":"https://insightrx.github.io/luna/reference/combine_info_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine columns with run info into a data.frame and make sure that rows match (e.g. parameters) — combine_info_columns","text":"","code":"combine_info_columns(fit_info, table = \"info_tab\", label = \"Detail\")"},{"path":"https://insightrx.github.io/luna/reference/compare_nlme_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare fit of two or more NLME fits — compare_nlme_fit","title":"Compare fit of two or more NLME fits — compare_nlme_fit","text":"Compare fit two NLME fits","code":""},{"path":"https://insightrx.github.io/luna/reference/compare_nlme_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare fit of two or more NLME fits — compare_nlme_fit","text":"","code":"compare_nlme_fit(..., return_object = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/compare_nlme_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare fit of two or more NLME fits — compare_nlme_fit","text":"... fit objects return_object logical, TRUE, return list combined info parameter tables","code":""},{"path":"https://insightrx.github.io/luna/reference/create_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a cache environment to store settings for project and system — create_cache","title":"Create a cache environment to store settings for project and system — create_cache","text":"Create cache environment store settings project system","code":""},{"path":"https://insightrx.github.io/luna/reference/create_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a cache environment to store settings for project and system — create_cache","text":"","code":"create_cache(project, verbose = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/create_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a cache environment to store settings for project and system — create_cache","text":"project luna project object verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/create_covariate_search_space.html","id":null,"dir":"Reference","previous_headings":"","what":"Create covariate search space definition for pharmpy covsearch — create_covariate_search_space","title":"Create covariate search space definition for pharmpy covsearch — create_covariate_search_space","text":"See Pharmpy MFL documentation info: https://pharmpy.github.io/latest/covsearch.html","code":""},{"path":"https://insightrx.github.io/luna/reference/create_covariate_search_space.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create covariate search space definition for pharmpy covsearch — create_covariate_search_space","text":"","code":"create_covariate_search_space(   parameters,   covariates,   operation = c(\"POW\", \"*\", \"+\", \"LIN\", \"EXP\", \"PIECE_LIN\"),   explore = TRUE,   struct_parameters = NULL,   struct_covariates = NULL,   struct_operation = c(\"POW\", \"*\", \"+\", \"LIN\", \"EXP\", \"PIECE_LIN\") )"},{"path":"https://insightrx.github.io/luna/reference/create_covariate_search_space.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create covariate search space definition for pharmpy covsearch — create_covariate_search_space","text":"parameters vector parameter names covariates vector covariate names operation parameter-covariate model type (operation) explore specified parameters covariates used structural model elements, exploration space? struct_parameters vector parameter names structural model struct_covariates vector covariate names structural model struct_operation parameter-covariate model type (operation) structural model","code":""},{"path":"https://insightrx.github.io/luna/reference/create_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Create model — create_model","title":"Create model — create_model","text":"essentially wrapper around model-creation -modification functionality pharmr/Pharmpy.","code":""},{"path":"https://insightrx.github.io/luna/reference/create_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create model — create_model","text":"","code":"create_model(   route = c(\"auto\", \"oral\", \"iv\"),   lag_time = FALSE,   n_transit_compartments = 0,   bioavailability = FALSE,   n_cmt = 1,   elimination = c(\"linear\", \"michaelis-menten\"),   iiv = \"all\",   iiv_type = \"exp\",   ruv = c(\"additive\", \"proportional\", \"combined\", \"ltbs\"),   covariates = NULL,   data = NULL,   name = NULL,   estimation_method = c(\"foce\", \"saem\"),   estimation_options = list(),   uncertainty_method = c(\"sandwich\", \"smat\", \"rmat\", \"efim\", \"none\"),   tool = c(\"nonmem\", \"nlmixr\", \"nlmixr2\"),   tables = c(\"fit\"),   auto_init = TRUE,   auto_stack_encounters = TRUE,   mu_reference = FALSE,   settings = list(),   verbose = FALSE )"},{"path":"https://insightrx.github.io/luna/reference/create_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create model — create_model","text":"route route administration, either oral iv lag_time add lag time, default FALSE n_transit_compartments number transit-compartments absorption model. Default 0. bioavailability Add bioavailability parameter? Default FALSE. add using logit function. n_cmt number elimination distribution compartments. Default 1, .e. peripheral distributions. elimination elimination type, either linear michaelis-menten. iiv either character list object. character, either \"basic\" (CL V parameters) \"\" (IIV parameters). specified list object, contain IIV magnitude (SD scale) parameters, e.g. list(CL = 0.2, V = 0.3). ruv one proportional, additive, combined. data data.frame input NONMEM / nlmixr. name name model estimation_method estimation method. estimation_options options estimation method, specified list, e.g. NITER ISAMPLE. uncertainty_method Compute uncertainty parameter estimations. One sandwich (default), smat, fmat, efim. tool output model type, either nonmem nlmixr tables pre-specified tables add, defaults parameters fit tables. auto_init automatically update initial estimates reasonable values based crude assessment PK data. Default TRUE. auto_stack_encounters detects TIME within individual decreasing one record another, NONMEM handle. happens, add reset event (EVID=3) time, increase TIME subsequent events NONMEM throw error. increase time next encounter maximum encounter length across subjects dataset (rounded 100). decreasing TIME detected, nothing done (common case). feature useful e.g. crossover trials data individual ispresent included dataset time--dose actual time since first overall dose. mu_reference MU-reference model, useful SAEM estimation method. settings additional settings model creation model estimation. TBD verbose verbose output? iiv_effect either character list. character, one c(\"exp\", \"add\", \"prop\", \"log\", \"re_log\"). list, specify parameter effect type, e.g. list(CL = \"add\", V = \"exp\"). Default \"exp\" .","code":""},{"path":"https://insightrx.github.io/luna/reference/create_model_nlmixr.html","id":null,"dir":"Reference","previous_headings":"","what":"Temporary function that returns a hardcoded nlmixr2 model — create_model_nlmixr","title":"Temporary function that returns a hardcoded nlmixr2 model — create_model_nlmixr","text":"arguments function just ignored, just demo purposes","code":""},{"path":"https://insightrx.github.io/luna/reference/create_model_nlmixr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Temporary function that returns a hardcoded nlmixr2 model — create_model_nlmixr","text":"","code":"create_model_nlmixr(...)"},{"path":"https://insightrx.github.io/luna/reference/create_modelfit_info_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data.frame with basic model fit info — create_modelfit_info_table","title":"Create a data.frame with basic model fit info — create_modelfit_info_table","text":"Create data.frame basic model fit info","code":""},{"path":"https://insightrx.github.io/luna/reference/create_modelfit_info_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data.frame with basic model fit info — create_modelfit_info_table","text":"","code":"create_modelfit_info_table(fit)"},{"path":"https://insightrx.github.io/luna/reference/create_modelfit_info_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a data.frame with basic model fit info — create_modelfit_info_table","text":"fit pharmpy fit object","code":""},{"path":"https://insightrx.github.io/luna/reference/create_modelfit_parameter_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data.frame with parameter estimates — create_modelfit_parameter_table","title":"Create a data.frame with parameter estimates — create_modelfit_parameter_table","text":"Create data.frame parameter estimates","code":""},{"path":"https://insightrx.github.io/luna/reference/create_modelfit_parameter_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data.frame with parameter estimates — create_modelfit_parameter_table","text":"","code":"create_modelfit_parameter_table(fit)"},{"path":"https://insightrx.github.io/luna/reference/create_pkmodel_search_space.html","id":null,"dir":"Reference","previous_headings":"","what":"Create PK mmodel search space definition for pharmpy modelsearch — create_pkmodel_search_space","title":"Create PK mmodel search space definition for pharmpy modelsearch — create_pkmodel_search_space","text":"See Pharmpy MFL documentation info: https://pharmpy.github.io/latest/modelsearch.html","code":""},{"path":"https://insightrx.github.io/luna/reference/create_pkmodel_search_space.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create PK mmodel search space definition for pharmpy modelsearch — create_pkmodel_search_space","text":"","code":"create_pkmodel_search_space(   absorption = c(\"FO\", \"ZO\"),   elimination = c(\"FO\", \"MM\"),   peripherals = c(0, 1),   transits = c(0, 1, 3),   lagtime = c(\"OFF\", \"ON\") )"},{"path":"https://insightrx.github.io/luna/reference/create_pkmodel_search_space.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create PK mmodel search space definition for pharmpy modelsearch — create_pkmodel_search_space","text":"absorption absorption model options elimination elimination model options peripherals peripheral compartment options transits transit model options lagtime lagtime options","code":""},{"path":"https://insightrx.github.io/luna/reference/create_run_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a folder for a run — create_run_folder","title":"Create a folder for a run — create_run_folder","text":"Create folder run","code":""},{"path":"https://insightrx.github.io/luna/reference/create_run_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a folder for a run — create_run_folder","text":"","code":"create_run_folder(id, path, force = FALSE, verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/create_run_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a folder for a run — create_run_folder","text":"id run id, e.g. run1. folder NONMEM model run. folder specified, create folder run1 current working directory, increment run number subsequent run. path path nonmem model. specified, assume current working directory. force run folder (id) exists, existing results removed rerunning NONMEM? Default FALSE. verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/create_vpc_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a simulation based on supplied parameters estimates, and combine into proper format for VPC — create_vpc_data","title":"Run a simulation based on supplied parameters estimates, and combine into proper format for VPC — create_vpc_data","text":"Run simulation based supplied parameters estimates, combine proper format VPC","code":""},{"path":"https://insightrx.github.io/luna/reference/create_vpc_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a simulation based on supplied parameters estimates, and combine into proper format for VPC — create_vpc_data","text":"","code":"create_vpc_data(   fit = NULL,   model = NULL,   parameters = NULL,   keep_columns = c(\"GROUP\"),   n = 100,   verbose = FALSE )"},{"path":"https://insightrx.github.io/luna/reference/create_vpc_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a simulation based on supplied parameters estimates, and combine into proper format for VPC — create_vpc_data","text":"fit fit object pharmr::run_modelfit(). Optional, can supply model parameters argument model pharmpy model object. Optional, can supply just fit object parameters list parameter estimates, e.g. list(CL = 5, V = 50). Optional, can also supply fit object. n number simulation iterations generate verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/detect_nmfe_version.html","id":null,"dir":"Reference","previous_headings":"","what":"get nmfe file name from a NONMEM installation folder — detect_nmfe_version","title":"get nmfe file name from a NONMEM installation folder — detect_nmfe_version","text":"get nmfe file name NONMEM installation folder","code":""},{"path":"https://insightrx.github.io/luna/reference/detect_nmfe_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get nmfe file name from a NONMEM installation folder — detect_nmfe_version","text":"","code":"detect_nmfe_version(nm_path)"},{"path":"https://insightrx.github.io/luna/reference/estimation_options_defaults.html","id":null,"dir":"Reference","previous_headings":"","what":"List of default options for estimation method. — estimation_options_defaults","title":"List of default options for estimation method. — estimation_options_defaults","text":"List default options estimation method.","code":""},{"path":"https://insightrx.github.io/luna/reference/estimation_options_defaults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List of default options for estimation method. — estimation_options_defaults","text":"","code":"estimation_options_defaults"},{"path":"https://insightrx.github.io/luna/reference/estimation_options_defaults.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"List of default options for estimation method. — estimation_options_defaults","text":"object class list length 2.","code":""},{"path":"https://insightrx.github.io/luna/reference/extract.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function for read_ini — extract","title":"Helper function for read_ini — extract","text":"Helper function read_ini","code":""},{"path":"https://insightrx.github.io/luna/reference/extract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function for read_ini — extract","text":"","code":"extract(regexp, x)"},{"path":"https://insightrx.github.io/luna/reference/find_file_with_fallback.html","id":null,"dir":"Reference","previous_headings":"","what":"Find a file(s) from a model run with a potential fallback — find_file_with_fallback","title":"Find a file(s) from a model run with a potential fallback — find_file_with_fallback","text":"Find file(s) model run potential fallback","code":""},{"path":"https://insightrx.github.io/luna/reference/find_file_with_fallback.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find a file(s) from a model run with a potential fallback — find_file_with_fallback","text":"","code":"find_file_with_fallback(   folder,   filename,   fallback,   verbose = TRUE,   abort = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/find_file_with_fallback.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find a file(s) from a model run with a potential fallback — find_file_with_fallback","text":"folder main model folder filename default look NONMEM nmfe results file, can also look e.g. table. case specify filename. fallback fallback filename","code":""},{"path":"https://insightrx.github.io/luna/reference/fit_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit model using NONMEM or nlmixr2 — fit_model","title":"Fit model using NONMEM or nlmixr2 — fit_model","text":"Takes pharmpy-loaded NONMEM model input, returns pharmpy model results object. essentially function drop-replacement run_modelfit() function pharmr/pharmpy.","code":""},{"path":"https://insightrx.github.io/luna/reference/fit_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit model using NONMEM or nlmixr2 — fit_model","text":"","code":"fit_model(model, data, tool = \"nonmem\", path, ...)"},{"path":"https://insightrx.github.io/luna/reference/fit_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit model using NONMEM or nlmixr2 — fit_model","text":"model pharmpy model object data data.frame data fit tool either nonmem nlmixr path path .rds file save fit results ... passed onto run_nmfe() function","code":""},{"path":"https://insightrx.github.io/luna/reference/fit_model_nlmixr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit model using nlmixr2 — fit_model_nlmixr","title":"Fit model using nlmixr2 — fit_model_nlmixr","text":"Fit model using nlmixr2","code":""},{"path":"https://insightrx.github.io/luna/reference/fit_model_nlmixr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit model using nlmixr2 — fit_model_nlmixr","text":"","code":"fit_model_nlmixr(model, data = NULL, ...)"},{"path":"https://insightrx.github.io/luna/reference/fit_model_nlmixr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit model using nlmixr2 — fit_model_nlmixr","text":"model pharmpy model object data data.frame data fit ... passed onto run_nmfe() function","code":""},{"path":"https://insightrx.github.io/luna/reference/fit_model_nonmem.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit model using NONMEM — fit_model_nonmem","title":"Fit model using NONMEM — fit_model_nonmem","text":"Fit model using NONMEM","code":""},{"path":"https://insightrx.github.io/luna/reference/fit_model_nonmem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit model using NONMEM — fit_model_nonmem","text":"","code":"fit_model_nonmem(model, data = NULL, ...)"},{"path":"https://insightrx.github.io/luna/reference/fit_model_nonmem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit model using NONMEM — fit_model_nonmem","text":"model pharmpy model object data data.frame data fit ... passed onto run_nmfe() function","code":""},{"path":"https://insightrx.github.io/luna/reference/get_condition_number_for_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the condition number for a model fit object Performs some safety checks — get_condition_number_for_fit","title":"Calculate the condition number for a model fit object Performs some safety checks — get_condition_number_for_fit","text":"Calculate condition number model fit object Performs safety checks","code":""},{"path":"https://insightrx.github.io/luna/reference/get_condition_number_for_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the condition number for a model fit object Performs some safety checks — get_condition_number_for_fit","text":"","code":"get_condition_number_for_fit(fit)"},{"path":"https://insightrx.github.io/luna/reference/get_condition_number_for_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the condition number for a model fit object Performs some safety checks — get_condition_number_for_fit","text":"fit pharmpy fit object","code":""},{"path":"https://insightrx.github.io/luna/reference/get_defined_pk_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all parameters that are defined (from a predefined vector of possible parameters) — get_defined_pk_parameters","title":"Get all parameters that are defined (from a predefined vector of possible parameters) — get_defined_pk_parameters","text":"Get parameters defined (predefined vector possible parameters)","code":""},{"path":"https://insightrx.github.io/luna/reference/get_defined_pk_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all parameters that are defined (from a predefined vector of possible parameters) — get_defined_pk_parameters","text":"","code":"get_defined_pk_parameters(   mod,   possible = c(\"CL\", \"V\", \"V2\", \"V3\", \"Q\", \"Q2\", \"Q3\", \"K10\", \"K12\", \"K21\", \"K13\", \"K31\") )"},{"path":"https://insightrx.github.io/luna/reference/get_estimation_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to combine default estimation options with user-specified, and ensure correct format. — get_estimation_options","title":"Helper function to combine default estimation options with user-specified, and ensure correct format. — get_estimation_options","text":"Helper function combine default estimation options user-specified, ensure correct format.","code":""},{"path":"https://insightrx.github.io/luna/reference/get_estimation_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to combine default estimation options with user-specified, and ensure correct format. — get_estimation_options","text":"","code":"get_estimation_options(tool, estimation_method, estimation_options)"},{"path":"https://insightrx.github.io/luna/reference/get_fit_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Get fit info from NONMEM run — get_fit_info","title":"Get fit info from NONMEM run — get_fit_info","text":"Get fit info NONMEM run","code":""},{"path":"https://insightrx.github.io/luna/reference/get_fit_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get fit info from NONMEM run — get_fit_info","text":"","code":"get_fit_info(fit, path = NULL, output_file = \"run.lst\")"},{"path":"https://insightrx.github.io/luna/reference/get_fit_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get fit info from NONMEM run — get_fit_info","text":"fit pharmpy fit object path path run folder output_file NONMEM output file, default run.lst","code":""},{"path":"https://insightrx.github.io/luna/reference/get_initial_estimates_from_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a very crude estimate for V to serve as initial estimate for CL and V, without performing an NCA. The calculation is based on the assumption that often in clinical trial data, there is at least a peak and a trough (and likely other samples) taken, hence it's possible to get a crude estimate for CL and V from that. For 2-compartment models we just set Q and V to half and twice the size of CL and V, which is often a good starting point. In most scenarios this is sufficiently close to the final estimates that estimation methods will be able to find the global minimum. — get_initial_estimates_from_data","title":"Get a very crude estimate for V to serve as initial estimate for CL and V, without performing an NCA. The calculation is based on the assumption that often in clinical trial data, there is at least a peak and a trough (and likely other samples) taken, hence it's possible to get a crude estimate for CL and V from that. For 2-compartment models we just set Q and V to half and twice the size of CL and V, which is often a good starting point. In most scenarios this is sufficiently close to the final estimates that estimation methods will be able to find the global minimum. — get_initial_estimates_from_data","text":"Get crude estimate V serve initial estimate CL V, without performing NCA. calculation based assumption often clinical trial data, least peak trough (likely samples) taken, hence possible get crude estimate CL V . 2-compartment models just set Q V half twice size CL V, often good starting point. scenarios sufficiently close final estimates estimation methods able find global minimum.","code":""},{"path":"https://insightrx.github.io/luna/reference/get_initial_estimates_from_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a very crude estimate for V to serve as initial estimate for CL and V, without performing an NCA. The calculation is based on the assumption that often in clinical trial data, there is at least a peak and a trough (and likely other samples) taken, hence it's possible to get a crude estimate for CL and V from that. For 2-compartment models we just set Q and V to half and twice the size of CL and V, which is often a good starting point. In most scenarios this is sufficiently close to the final estimates that estimation methods will be able to find the global minimum. — get_initial_estimates_from_data","text":"","code":"get_initial_estimates_from_data(data, n_cmt = 1)"},{"path":"https://insightrx.github.io/luna/reference/get_initial_estimates_from_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a very crude estimate for V to serve as initial estimate for CL and V, without performing an NCA. The calculation is based on the assumption that often in clinical trial data, there is at least a peak and a trough (and likely other samples) taken, hence it's possible to get a crude estimate for CL and V from that. For 2-compartment models we just set Q and V to half and twice the size of CL and V, which is often a good starting point. In most scenarios this is sufficiently close to the final estimates that estimation methods will be able to find the global minimum. — get_initial_estimates_from_data","text":"data NONMEM-style dataset n_cmt number distribution / elimination compartments.","code":""},{"path":"https://insightrx.github.io/luna/reference/get_initial_estimates_from_individual_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Core function to get parameter estimates from individual data — get_initial_estimates_from_individual_data","title":"Core function to get parameter estimates from individual data — get_initial_estimates_from_individual_data","text":"Core function get parameter estimates individual data","code":""},{"path":"https://insightrx.github.io/luna/reference/get_initial_estimates_from_individual_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Core function to get parameter estimates from individual data — get_initial_estimates_from_individual_data","text":"","code":"get_initial_estimates_from_individual_data(data, ...)"},{"path":"https://insightrx.github.io/luna/reference/get_luna_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get luna config, either from global config file, or from project config — get_luna_config","title":"Get luna config, either from global config file, or from project config — get_luna_config","text":"Get luna config, either global config file, project config","code":""},{"path":"https://insightrx.github.io/luna/reference/get_luna_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get luna config, either from global config file, or from project config — get_luna_config","text":"","code":"get_luna_config(verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/get_luna_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get luna config, either from global config file, or from project config — get_luna_config","text":"verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/get_new_run_number.html","id":null,"dir":"Reference","previous_headings":"","what":"Get new run number for model fit — get_new_run_number","title":"Get new run number for model fit — get_new_run_number","text":"Get new run number model fit","code":""},{"path":"https://insightrx.github.io/luna/reference/get_new_run_number.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get new run number for model fit — get_new_run_number","text":"","code":"get_new_run_number(path = getwd())"},{"path":"https://insightrx.github.io/luna/reference/get_new_run_number.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get new run number for model fit — get_new_run_number","text":"path path folder create subfolder run","code":""},{"path":"https://insightrx.github.io/luna/reference/get_nmfe_location_for_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to determine nmfe location from various sources The order is as follows: — get_nmfe_location_for_run","title":"Helper function to determine nmfe location from various sources The order is as follows: — get_nmfe_location_for_run","text":"argument specified user check project settings (implemented now, add later) check pharmpy config throw error, force user specify","code":""},{"path":"https://insightrx.github.io/luna/reference/get_nmfe_location_for_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to determine nmfe location from various sources The order is as follows: — get_nmfe_location_for_run","text":"","code":"get_nmfe_location_for_run(nmfe = NULL, verbose = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/get_nmfe_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Get output from NMFE — get_nmfe_output","title":"Get output from NMFE — get_nmfe_output","text":"Get output NMFE","code":""},{"path":"https://insightrx.github.io/luna/reference/get_nmfe_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get output from NMFE — get_nmfe_output","text":"","code":"get_nmfe_output(path, results_file = \"run.lst\")"},{"path":"https://insightrx.github.io/luna/reference/get_nmfe_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get output from NMFE — get_nmfe_output","text":"path path folder NMFE run results_file name output file","code":""},{"path":"https://insightrx.github.io/luna/reference/get_parameters_with_iiv.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a character vector with all parameters on which IIV is present — get_parameters_with_iiv","title":"Get a character vector with all parameters on which IIV is present — get_parameters_with_iiv","text":"Get character vector parameters IIV present","code":""},{"path":"https://insightrx.github.io/luna/reference/get_parameters_with_iiv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a character vector with all parameters on which IIV is present — get_parameters_with_iiv","text":"","code":"get_parameters_with_iiv(mod)"},{"path":"https://insightrx.github.io/luna/reference/get_pharmpy_conf.html","id":null,"dir":"Reference","previous_headings":"","what":"Get pharmpy configuration, as an R object (list) — get_pharmpy_conf","title":"Get pharmpy configuration, as an R object (list) — get_pharmpy_conf","text":"Get pharmpy configuration, R object (list)","code":""},{"path":"https://insightrx.github.io/luna/reference/get_pharmpy_conf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get pharmpy configuration, as an R object (list) — get_pharmpy_conf","text":"","code":"get_pharmpy_conf()"},{"path":"https://insightrx.github.io/luna/reference/get_pharmpy_conf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get pharmpy configuration, as an R object (list) — get_pharmpy_conf","text":"list object","code":""},{"path":"https://insightrx.github.io/luna/reference/get_pharmpy_runfolders.html","id":null,"dir":"Reference","previous_headings":"","what":"Find last pharmpy run folder — get_pharmpy_runfolders","title":"Find last pharmpy run folder — get_pharmpy_runfolders","text":"Find last pharmpy run folder","code":""},{"path":"https://insightrx.github.io/luna/reference/get_pharmpy_runfolders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find last pharmpy run folder — get_pharmpy_runfolders","text":"","code":"get_pharmpy_runfolders(id = NULL, folder = NULL, tool)"},{"path":"https://insightrx.github.io/luna/reference/get_pharmpy_runfolders.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find last pharmpy run folder — get_pharmpy_runfolders","text":"id model id. Optional. specified, generate random modelfit id. id used create run folder.","code":""},{"path":"https://insightrx.github.io/luna/reference/get_route_from_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get route from data. If dose and observation events all happen in the same compartment, then assume IV administration, else oral absorption (or sc, im, etc). — get_route_from_data","title":"Get route from data. If dose and observation events all happen in the same compartment, then assume IV administration, else oral absorption (or sc, im, etc). — get_route_from_data","text":"Get route data. dose observation events happen compartment, assume IV administration, else oral absorption (sc, im, etc).","code":""},{"path":"https://insightrx.github.io/luna/reference/get_route_from_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get route from data. If dose and observation events all happen in the same compartment, then assume IV administration, else oral absorption (or sc, im, etc). — get_route_from_data","text":"","code":"get_route_from_data(data, default = \"iv\")"},{"path":"https://insightrx.github.io/luna/reference/get_shrinkage_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Parses a NONMEM output file and extracts shrinkage — get_shrinkage_summary","title":"Parses a NONMEM output file and extracts shrinkage — get_shrinkage_summary","text":"Parses NONMEM output file extracts shrinkage","code":""},{"path":"https://insightrx.github.io/luna/reference/get_shrinkage_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parses a NONMEM output file and extracts shrinkage — get_shrinkage_summary","text":"","code":"get_shrinkage_summary(path = NULL, fit = NULL)"},{"path":"https://insightrx.github.io/luna/reference/get_shrinkage_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parses a NONMEM output file and extracts shrinkage — get_shrinkage_summary","text":"path path nonmem output file (.lst) fit pharmpy model object","code":""},{"path":"https://insightrx.github.io/luna/reference/get_shrinkage_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Get shrinkage values from a single line in NONMEM output — get_shrinkage_values","title":"Get shrinkage values from a single line in NONMEM output — get_shrinkage_values","text":"Get shrinkage values single line NONMEM output","code":""},{"path":"https://insightrx.github.io/luna/reference/get_shrinkage_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get shrinkage values from a single line in NONMEM output — get_shrinkage_values","text":"","code":"get_shrinkage_values(txt, type = \"ETASHRINKSD\")"},{"path":"https://insightrx.github.io/luna/reference/get_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the status of a run — get_status","title":"Get the status of a run — get_status","text":"Get status run","code":""},{"path":"https://insightrx.github.io/luna/reference/get_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the status of a run — get_status","text":"","code":"get_status(id, folder = \".\")"},{"path":"https://insightrx.github.io/luna/reference/get_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the status of a run — get_status","text":"id id run get status folder project folder look ","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tables_from_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Read tables created in model run and return as a list of data.frames — get_tables_from_fit","title":"Read tables created in model run and return as a list of data.frames — get_tables_from_fit","text":"Read tables created model run return list data.frames","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tables_from_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read tables created in model run and return as a list of data.frames — get_tables_from_fit","text":"","code":"get_tables_from_fit(model, path)"},{"path":"https://insightrx.github.io/luna/reference/get_tables_from_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read tables created in model run and return as a list of data.frames — get_tables_from_fit","text":"model pharmpy model object path path model execution folder","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tables_from_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Get tables from a folder, by table_names — get_tables_from_folder","title":"Get tables from a folder, by table_names — get_tables_from_folder","text":"Get tables folder, table_names","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tables_from_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get tables from a folder, by table_names — get_tables_from_folder","text":"","code":"get_tables_from_folder(table_names, path)"},{"path":"https://insightrx.github.io/luna/reference/get_tables_from_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get tables from a folder, by table_names — get_tables_from_folder","text":"table_names file names tables path path model execution folder","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tables_in_model_code.html","id":null,"dir":"Reference","previous_headings":"","what":"extract FILE names from $TABLE using simple regex. For some reason the tables are not (yet?) available in pharmpy — get_tables_in_model_code","title":"extract FILE names from $TABLE using simple regex. For some reason the tables are not (yet?) available in pharmpy — get_tables_in_model_code","text":"extract FILE names $TABLE using simple regex. reason tables (yet?) available pharmpy","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tables_in_model_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"extract FILE names from $TABLE using simple regex. For some reason the tables are not (yet?) available in pharmpy — get_tables_in_model_code","text":"","code":"get_tables_in_model_code(code)"},{"path":"https://insightrx.github.io/luna/reference/get_tables_in_model_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"extract FILE names from $TABLE using simple regex. For some reason the tables are not (yet?) available in pharmpy — get_tables_in_model_code","text":"code character string NONMEM model code","code":""},{"path":"https://insightrx.github.io/luna/reference/get_time_ago.html","id":null,"dir":"Reference","previous_headings":"","what":"Get time to now since a given date, in character — get_time_ago","title":"Get time to now since a given date, in character — get_time_ago","text":"Get time now since given date, character","code":""},{"path":"https://insightrx.github.io/luna/reference/get_time_ago.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get time to now since a given date, in character — get_time_ago","text":"","code":"get_time_ago(datetime)"},{"path":"https://insightrx.github.io/luna/reference/get_time_last_updated_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Get date/time stamp for last update to file — get_time_last_updated_file","title":"Get date/time stamp for last update to file — get_time_last_updated_file","text":"Get date/time stamp last update file","code":""},{"path":"https://insightrx.github.io/luna/reference/get_time_last_updated_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get date/time stamp for last update to file — get_time_last_updated_file","text":"","code":"get_time_last_updated_file(file)"},{"path":"https://insightrx.github.io/luna/reference/get_time_last_updated_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get date/time stamp for last update to file — get_time_last_updated_file","text":"datetime stamp ISO8601 format. Returns empty string file exist","code":""},{"path":"https://insightrx.github.io/luna/reference/get_time_last_updated_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a timestamp for when the last update was made to any file in a folder Will look only 1 level deep. — get_time_last_updated_folder","title":"Get a timestamp for when the last update was made to any file in a folder Will look only 1 level deep. — get_time_last_updated_folder","text":"Get timestamp last update made file folder look 1 level deep.","code":""},{"path":"https://insightrx.github.io/luna/reference/get_time_last_updated_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a timestamp for when the last update was made to any file in a folder Will look only 1 level deep. — get_time_last_updated_folder","text":"","code":"get_time_last_updated_folder(folder)"},{"path":"https://insightrx.github.io/luna/reference/get_time_last_updated_folder.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a timestamp for when the last update was made to any file in a folder Will look only 1 level deep. — get_time_last_updated_folder","text":"datetime stamp ISO8601 format. Returns empty string files folder","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tool_from_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Get estimation/simulation engine from pharmpy model — get_tool_from_model","title":"Get estimation/simulation engine from pharmpy model — get_tool_from_model","text":"Get estimation/simulation engine pharmpy model","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tool_from_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get estimation/simulation engine from pharmpy model — get_tool_from_model","text":"","code":"get_tool_from_model(model)"},{"path":"https://insightrx.github.io/luna/reference/get_tool_from_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get estimation/simulation engine from pharmpy model — get_tool_from_model","text":"model pharmpy model","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tools_info.html","id":null,"dir":"Reference","previous_headings":"","what":"For a given run, get info on what folders are available for selected Pharmpy or PsN tools — get_tools_info","title":"For a given run, get info on what folders are available for selected Pharmpy or PsN tools — get_tools_info","text":"given run, get info folders available selected Pharmpy PsN tools","code":""},{"path":"https://insightrx.github.io/luna/reference/get_tools_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"For a given run, get info on what folders are available for selected Pharmpy or PsN tools — get_tools_info","text":"","code":"get_tools_info(id, folder, tools = c())"},{"path":"https://insightrx.github.io/luna/reference/get_tools_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"For a given run, get info on what folders are available for selected Pharmpy or PsN tools — get_tools_info","text":"id run id, e.g. run1. folder NONMEM model run. folder path folder containing model file. Default current directory. tools vector tools find info","code":""},{"path":"https://insightrx.github.io/luna/reference/ifelse0.html","id":null,"dir":"Reference","previous_headings":"","what":"ifelse function but then based on whether value is NULL or not — ifelse0","title":"ifelse function but then based on whether value is NULL or not — ifelse0","text":"ifelse function based whether value NULL ","code":""},{"path":"https://insightrx.github.io/luna/reference/ifelse0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ifelse function but then based on whether value is NULL or not — ifelse0","text":"","code":"ifelse0(value = NULL, alternative = NULL, allow_null = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/ifelse0.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ifelse function but then based on whether value is NULL or not — ifelse0","text":"value metadata list object alternative alternative value allow_null can alternative NULL?","code":""},{"path":"https://insightrx.github.io/luna/reference/ifelse0.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ifelse function but then based on whether value is NULL or not — ifelse0","text":"value non-NULL; alternative otherwise","code":""},{"path":"https://insightrx.github.io/luna/reference/insert_entry.html","id":null,"dir":"Reference","previous_headings":"","what":"The reverse of pluck_entry, insert_entry() inserts an entry into an unnamded outer list, based on an element in the inner list. — insert_entry","title":"The reverse of pluck_entry, insert_entry() inserts an entry into an unnamded outer list, based on an element in the inner list. — insert_entry","text":"reverse pluck_entry, insert_entry() inserts entry unnamded outer list, based element inner list.","code":""},{"path":"https://insightrx.github.io/luna/reference/insert_entry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The reverse of pluck_entry, insert_entry() inserts an entry into an unnamded outer list, based on an element in the inner list. — insert_entry","text":"","code":"insert_entry(x, id, entry, el = \"id\")"},{"path":"https://insightrx.github.io/luna/reference/is_luna_cache_available.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if luna cache is available / loaded — is_luna_cache_available","title":"Check if luna cache is available / loaded — is_luna_cache_available","text":"Check luna cache available / loaded","code":""},{"path":"https://insightrx.github.io/luna/reference/is_luna_cache_available.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if luna cache is available / loaded — is_luna_cache_available","text":"","code":"is_luna_cache_available(abort = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/log_add.html","id":null,"dir":"Reference","previous_headings":"","what":"Add event to log — log_add","title":"Add event to log — log_add","text":"Add event log","code":""},{"path":"https://insightrx.github.io/luna/reference/log_add.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add event to log — log_add","text":"","code":"log_add(   event = c(\"action\", \"error\", \"plot\"),   action = \"modelfit\",   id,   context = NA )"},{"path":"https://insightrx.github.io/luna/reference/log_add.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add event to log — log_add","text":"event type event (action error) action action type, e.g. modelfit id run id context information, e.g. error message","code":""},{"path":"https://insightrx.github.io/luna/reference/log_get_last_event.html","id":null,"dir":"Reference","previous_headings":"","what":"Get last event from log, as list object — log_get_last_event","title":"Get last event from log, as list object — log_get_last_event","text":"Get last event log, list object","code":""},{"path":"https://insightrx.github.io/luna/reference/log_get_last_event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get last event from log, as list object — log_get_last_event","text":"","code":"log_get_last_event()"},{"path":"https://insightrx.github.io/luna/reference/luna_cache_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Get element from active project Just a convenience wrapper with error checking — luna_cache_get","title":"Get element from active project Just a convenience wrapper with error checking — luna_cache_get","text":"Get element active project Just convenience wrapper error checking","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_cache_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get element from active project Just a convenience wrapper with error checking — luna_cache_get","text":"","code":"luna_cache_get(entry = c(\"name\", \"folder\"))"},{"path":"https://insightrx.github.io/luna/reference/luna_compare.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare basic run info for 2 or more model runs — luna_compare","title":"Compare basic run info for 2 or more model runs — luna_compare","text":"Compare basic run info 2 model runs","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_compare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare basic run info for 2 or more model runs — luna_compare","text":"","code":"luna_compare(..., folder = \".\", return_object = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/luna_compare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare basic run info for 2 or more model runs — luna_compare","text":"... id runs compare. Can specified either vector, separate arguments. folder folder look return_object return object?","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Edit luna config file in editor, e.g. RStudio — luna_config","title":"Edit luna config file in editor, e.g. RStudio — luna_config","text":"Edit luna config file editor, e.g. RStudio","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Edit luna config file in editor, e.g. RStudio — luna_config","text":"","code":"luna_config(verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Edit luna config file in editor, e.g. RStudio — luna_config","text":"verbose verbose output","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data from a model — luna_dataset","title":"Get data from a model — luna_dataset","text":"Get data model","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data from a model — luna_dataset","text":"","code":"luna_dataset(id, folder = \".\")"},{"path":"https://insightrx.github.io/luna/reference/luna_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get data from a model — luna_dataset","text":"id run id, e.g. run1 folder folder containing model file","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_edit.html","id":null,"dir":"Reference","previous_headings":"","what":"Edit model in editor, e.g. RStudio — luna_edit","title":"Edit model in editor, e.g. RStudio — luna_edit","text":"Edit model editor, e.g. RStudio","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_edit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Edit model in editor, e.g. RStudio — luna_edit","text":"","code":"luna_edit(id, folder = NULL, verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_edit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Edit model in editor, e.g. RStudio — luna_edit","text":"id run id, e.g. run1. folder NONMEM model run. folder path folder containing model file. Default current directory.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_edit_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Edit luna config file in editor, e.g. RStudio — luna_edit_project","title":"Edit luna config file in editor, e.g. RStudio — luna_edit_project","text":"Edit luna config file editor, e.g. RStudio","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_edit_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Edit luna config file in editor, e.g. RStudio — luna_edit_project","text":"","code":"luna_edit_project(verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_edit_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Edit luna config file in editor, e.g. RStudio — luna_edit_project","text":"verbose verbose output","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_gof.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates a ggplot2 panel object with basic goodness of fit plots — luna_gof","title":"Creates a ggplot2 panel object with basic goodness of fit plots — luna_gof","text":"Creates ggplot2 panel object basic goodness fit plots","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_gof.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates a ggplot2 panel object with basic goodness of fit plots — luna_gof","text":"","code":"luna_gof(   id,   residual = c(\"CWRES\", \"NPDE\"),   theme = ggplot2::theme_classic,   smooth_method = \"loess\",   folder = NULL,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/luna_gof.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates a ggplot2 panel object with basic goodness of fit plots — luna_gof","text":"id run id residual either \"CWRES\" \"NPDE\" smooth_method ggplot2-supported smooth method, e.g. \"loess\"","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_help.html","id":null,"dir":"Reference","previous_headings":"","what":"Ask AI agent to help — luna_help","title":"Ask AI agent to help — luna_help","text":"default pick recent error NONMEM prompt, can also ask questions.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_help.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ask AI agent to help — luna_help","text":"","code":"luna_help(prompt = NULL, model = \"gpt-4.1-mini\", verbose = TRUE, ...)"},{"path":"https://insightrx.github.io/luna/reference/luna_help.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ask AI agent to help — luna_help","text":"prompt question ask LLM. default NULL, means look log extract last event, e.g. error NONMEM model LLM, e.g. \"gpt-4.1-mini\" verbose verbose output? ... optional parameters passed onto ellmer::chat()","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_help.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ask AI agent to help — luna_help","text":"","code":"if (FALSE) { # \\dontrun{ luna_help() # will get help from LLM on last NONMEM error luna_help(\"How do I write a model with non-linear elimination?\") } # }"},{"path":"https://insightrx.github.io/luna/reference/luna_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Show info for a model run — luna_info","title":"Show info for a model run — luna_info","text":"Show info model run","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show info for a model run — luna_info","text":"","code":"luna_info(id, folder = \".\", ...)"},{"path":"https://insightrx.github.io/luna/reference/luna_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show info for a model run — luna_info","text":"id run id, e.g. run1. folder NONMEM model run. folder path folder containing model file. Default current directory.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List runs in current project — luna_list","title":"List runs in current project — luna_list","text":"List runs current project","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List runs in current project — luna_list","text":"","code":"luna_list(project = NULL, return_object = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/luna_load_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a project from yaml and gather results. Project is then stored/updated in .luna_cache — luna_load_project","title":"Load a project from yaml and gather results. Project is then stored/updated in .luna_cache — luna_load_project","text":"Load project yaml gather results. Project stored/updated .luna_cache","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_load_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a project from yaml and gather results. Project is then stored/updated in .luna_cache — luna_load_project","text":"","code":"luna_load_project(name = NULL, folder = \".\", verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_load_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a project from yaml and gather results. Project is then stored/updated in .luna_cache — luna_load_project","text":"name name project, used filename YAML file. contain spaces. folder folder create project . folder exist, created. verbose verbosity","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_log.html","id":null,"dir":"Reference","previous_headings":"","what":"Show a log of events (actions and errors) — luna_log","title":"Show a log of events (actions and errors) — luna_log","text":"Show log events (actions errors)","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_log.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show a log of events (actions and errors) — luna_log","text":"","code":"luna_log(n = 20)"},{"path":"https://insightrx.github.io/luna/reference/luna_log.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show a log of events (actions and errors) — luna_log","text":"n number recent events return, default 20","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_new_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new project folder with template YAML project file — luna_new_project","title":"Create a new project folder with template YAML project file — luna_new_project","text":"Create new project folder template YAML project file","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_new_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new project folder with template YAML project file — luna_new_project","text":"","code":"luna_new_project(   name,   folder = \".\",   description,   import_models = TRUE,   force = FALSE,   template = NULL,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/luna_new_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a new project folder with template YAML project file — luna_new_project","text":"name name project, used filename YAML file. contain spaces. folder folder create project . folder exist, created. description project description import_models creating new project file folder, existing models added project? force project file already exists, overwrite . FALSE default template Create yaml file template. Use luna_project_templates show list available templates verbose verbosity","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_note.html","id":null,"dir":"Reference","previous_headings":"","what":"Annotate a run Either add a note or clear notes from a run — luna_note","title":"Annotate a run Either add a note or clear notes from a run — luna_note","text":"Annotate run Either add note clear notes run","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_note.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Annotate a run Either add a note or clear notes from a run — luna_note","text":"","code":"luna_note(   id = NULL,   note = NULL,   clear = FALSE,   force = TRUE,   verbose = FALSE,   element = \"notes\" )"},{"path":"https://insightrx.github.io/luna/reference/luna_note.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Annotate a run Either add a note or clear notes from a run — luna_note","text":"id run id, e.g. run1. folder NONMEM model run. note note(s) add (character vector) clear existing notes cleared? Default FALSE element element YAML contains notes, default notes.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_note.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Annotate a run Either add a note or clear notes from a run — luna_note","text":"","code":"if (FALSE) { # \\dontrun{ luna_note(\"run1\", \"Initial model\") # adds a note luna_note(\"run1\", \"Initial model\", clear=TRUE) # first clears existing notes, then adds a note luna_note(\"run1\", clear=TRUE) # only clears existing notes } # }"},{"path":"https://insightrx.github.io/luna/reference/luna_project_templates.html","id":null,"dir":"Reference","previous_headings":"","what":"Show available templates — luna_project_templates","title":"Show available templates — luna_project_templates","text":"Show available templates","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_project_templates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show available templates — luna_project_templates","text":"","code":"luna_project_templates()"},{"path":"https://insightrx.github.io/luna/reference/luna_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a NONMEM model — luna_run","title":"Run a NONMEM model — luna_run","text":"Run NONMEM model","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a NONMEM model — luna_run","text":"","code":"luna_run(id, folder, nmfe = NULL, as_job = FALSE, ...)"},{"path":"https://insightrx.github.io/luna/reference/luna_run.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a NONMEM model — luna_run","text":"id run id, e.g. run1. folder NONMEM model run. folder path folder containing model file. Default current directory.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_sync.html","id":null,"dir":"Reference","previous_headings":"","what":"Synchronize (re-load) luna project — luna_sync","title":"Synchronize (re-load) luna project — luna_sync","text":"function essentially duplicate luna_load_project() moment. may take different roles future.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_sync.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Synchronize (re-load) luna project — luna_sync","text":"","code":"luna_sync(...)"},{"path":"https://insightrx.github.io/luna/reference/luna_tables.html","id":null,"dir":"Reference","previous_headings":"","what":"Get tables from a model / run — luna_tables","title":"Get tables from a model / run — luna_tables","text":"Get tables model / run","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_tables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get tables from a model / run — luna_tables","text":"","code":"luna_tables(id, folder = NULL, verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_tables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get tables from a model / run — luna_tables","text":"id run id, e.g. run1. folder NONMEM model run. folder path folder containing model file. Default current directory.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_tag.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a tag to a run Either add a tag or clear tags from a run — luna_tag","title":"Add a tag to a run Either add a tag or clear tags from a run — luna_tag","text":"Add tag run Either add tag clear tags run","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_tag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a tag to a run Either add a tag or clear tags from a run — luna_tag","text":"","code":"luna_tag(id, tag = NULL, clear = FALSE, force = TRUE, verbose = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/luna_tag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a tag to a run Either add a tag or clear tags from a run — luna_tag","text":"id run id, e.g. run1. folder NONMEM model run. tag tag add (character vector) clear existing notes cleared? Default FALSE","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_tag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a tag to a run Either add a tag or clear tags from a run — luna_tag","text":"","code":"if (FALSE) { # \\dontrun{ luna_tag(\"run1\", \"final\") # adds a tag luna_tag(\"run1\", \"intermediate\", clear=TRUE) # first clears existing tags, then adds a tag luna_tag(\"run1\", clear=TRUE) # only clears existing tags } # }"},{"path":"https://insightrx.github.io/luna/reference/luna_tool.html","id":null,"dir":"Reference","previous_headings":"","what":"Run external tools (e.g. diagnostics) on models or run outputs This can be used e.g. for bootstraps and VPCs. The function is implemented in a modular way so that it can be easily extended. — luna_tool","title":"Run external tools (e.g. diagnostics) on models or run outputs This can be used e.g. for bootstraps and VPCs. The function is implemented in a modular way so that it can be easily extended. — luna_tool","text":"Run external tools (e.g. diagnostics) models run outputs can used e.g. bootstraps VPCs. function implemented modular way can easily extended.","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_tool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run external tools (e.g. diagnostics) on models or run outputs This can be used e.g. for bootstraps and VPCs. The function is implemented in a modular way so that it can be easily extended. — luna_tool","text":"","code":"luna_tool(id, tool = NULL, as_job = FALSE, verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_tool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run external tools (e.g. diagnostics) on models or run outputs This can be used e.g. for bootstraps and VPCs. The function is implemented in a modular way so that it can be easily extended. — luna_tool","text":"id run id, e.g. run1. folder NONMEM model run. tool id tool, needs referenced project YAML. See examples details. verbose verbose output","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_xpose.html","id":null,"dir":"Reference","previous_headings":"","what":"Read tables for a model and parse into an Xpose database — luna_xpose","title":"Read tables for a model and parse into an Xpose database — luna_xpose","text":"Read tables model parse Xpose database","code":""},{"path":"https://insightrx.github.io/luna/reference/luna_xpose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read tables for a model and parse into an Xpose database — luna_xpose","text":"","code":"luna_xpose(id, folder = NULL, verbose = TRUE)"},{"path":"https://insightrx.github.io/luna/reference/luna_xpose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read tables for a model and parse into an Xpose database — luna_xpose","text":"id run id folder folder verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/new_project_from_template.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new project object based on a predefined template — new_project_from_template","title":"Create a new project object based on a predefined template — new_project_from_template","text":"Create new project object based predefined template","code":""},{"path":"https://insightrx.github.io/luna/reference/new_project_from_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new project object based on a predefined template — new_project_from_template","text":"","code":"new_project_from_template(template = \"default\")"},{"path":"https://insightrx.github.io/luna/reference/new_project_from_template.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a new project object based on a predefined template — new_project_from_template","text":"template template new project. Either reference one built-templates (e.g. default), path file.","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_read_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse NONMEM model file into a list containing blocks of code — nm_read_model","title":"Parse NONMEM model file into a list containing blocks of code — nm_read_model","text":"Parse NONMEM model file list containing blocks code","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_read_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse NONMEM model file into a list containing blocks of code — nm_read_model","text":"","code":"nm_read_model(modelfile = NULL, as_block = FALSE, code = NULL)"},{"path":"https://insightrx.github.io/luna/reference/nm_read_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse NONMEM model file into a list containing blocks of code — nm_read_model","text":"modelfile NONMEM model filename as_block import code blocks block text (TRUE, default) separate lines (FALSE) code NONMEM code (alternative specifying file name)","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_save_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Save an R data.frame to a NONMEM-style dataset as CSV — nm_save_dataset","title":"Save an R data.frame to a NONMEM-style dataset as CSV — nm_save_dataset","text":"Save R data.frame NONMEM-style dataset CSV","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_save_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save an R data.frame to a NONMEM-style dataset as CSV — nm_save_dataset","text":"","code":"nm_save_dataset(data, filename, tool = c(\"nonmem\", \"nlmixr\"))"},{"path":"https://insightrx.github.io/luna/reference/nm_save_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save an R data.frame to a NONMEM-style dataset as CSV — nm_save_dataset","text":"data data.frame filename filename save . tool type dataset, either nonmem nlmixr","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_save_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Write a NONMEM model object to file — nm_save_model","title":"Write a NONMEM model object to file — nm_save_model","text":"Write NONMEM model object file","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_save_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write a NONMEM model object to file — nm_save_model","text":"","code":"nm_save_model(model = NULL, modelfile = NULL, overwrite = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/nm_save_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write a NONMEM model object to file — nm_save_model","text":"model NONMEM model object (imported read_nm()) modelfile NONMEM model filename overwrite overwrite model file exists?","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_update_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Update $DATA in NONMEM model with new dataset — nm_update_dataset","title":"Update $DATA in NONMEM model with new dataset — nm_update_dataset","text":"Update $DATA NONMEM model new dataset","code":""},{"path":"https://insightrx.github.io/luna/reference/nm_update_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update $DATA in NONMEM model with new dataset — nm_update_dataset","text":"","code":"nm_update_dataset(model_filename, dataset_filename, ...)"},{"path":"https://insightrx.github.io/luna/reference/nm_update_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update $DATA in NONMEM model with new dataset — nm_update_dataset","text":"model_filename model filename dataset_filename dataset filename ... parameters passed nm_save_model()","code":""},{"path":"https://insightrx.github.io/luna/reference/parse_psn_args.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse tool options specified in YAML into PsN commandline args — parse_psn_args","title":"Parse tool options specified in YAML into PsN commandline args — parse_psn_args","text":"Parse tool options specified YAML PsN commandline args","code":""},{"path":"https://insightrx.github.io/luna/reference/parse_psn_args.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse tool options specified in YAML into PsN commandline args — parse_psn_args","text":"","code":"parse_psn_args(options)"},{"path":"https://insightrx.github.io/luna/reference/parse_psn_args.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse tool options specified in YAML into PsN commandline args — parse_psn_args","text":"options list options. Logical arguments specified TRUE/FALSE.","code":""},{"path":"https://insightrx.github.io/luna/reference/pluck_entry.html","id":null,"dir":"Reference","previous_headings":"","what":"Pluck an inner list element from an unnamed outer list, where an element matches (default name is ","title":"Pluck an inner list element from an unnamed outer list, where an element matches (default name is ","text":"Pluck inner list element unnamed outer list, element matches (default name \"id\") specific value. Analogue _.pluck() JS/underscore","code":""},{"path":"https://insightrx.github.io/luna/reference/pluck_entry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pluck an inner list element from an unnamed outer list, where an element matches (default name is ","text":"","code":"pluck_entry(x, id, el = \"id\")"},{"path":"https://insightrx.github.io/luna/reference/print.luna.run_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints a list of models / runs in project — print.luna.run_table","title":"Prints a list of models / runs in project — print.luna.run_table","text":"Prints list models / runs project","code":""},{"path":"https://insightrx.github.io/luna/reference/print.luna.run_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints a list of models / runs in project — print.luna.run_table","text":"","code":"# S3 method for class 'luna.run_table' print(x, format = \"simple\", verbose = FALSE, ...)"},{"path":"https://insightrx.github.io/luna/reference/print.luna.run_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints a list of models / runs in project — print.luna.run_table","text":"x luna project object","code":""},{"path":"https://insightrx.github.io/luna/reference/print.pharmpy.workflows.results.ModelfitResults.html","id":null,"dir":"Reference","previous_headings":"","what":"Print function that provides basic run information for a pharmpy modelfit — print.pharmpy.workflows.results.ModelfitResults","title":"Print function that provides basic run information for a pharmpy modelfit — print.pharmpy.workflows.results.ModelfitResults","text":"Print function provides basic run information pharmpy modelfit","code":""},{"path":"https://insightrx.github.io/luna/reference/print.pharmpy.workflows.results.ModelfitResults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print function that provides basic run information for a pharmpy modelfit — print.pharmpy.workflows.results.ModelfitResults","text":"","code":"# S3 method for class 'pharmpy.workflows.results.ModelfitResults' print(x, ...)"},{"path":"https://insightrx.github.io/luna/reference/print.pharmpy.workflows.results.ModelfitResults.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print function that provides basic run information for a pharmpy modelfit — print.pharmpy.workflows.results.ModelfitResults","text":"x pharmpy fit object","code":""},{"path":"https://insightrx.github.io/luna/reference/print_nmfe_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Print nmfe output (stdout and stderr) from a run folder — print_nmfe_output","title":"Print nmfe output (stdout and stderr) from a run folder — print_nmfe_output","text":"Print nmfe output (stdout stderr) run folder","code":""},{"path":"https://insightrx.github.io/luna/reference/print_nmfe_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print nmfe output (stdout and stderr) from a run folder — print_nmfe_output","text":"","code":"print_nmfe_output(nmfe_output)"},{"path":"https://insightrx.github.io/luna/reference/print_nmfe_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print nmfe output (stdout and stderr) from a run folder — print_nmfe_output","text":"nmfe_output output nmfe command, list","code":""},{"path":"https://insightrx.github.io/luna/reference/read_ini.html","id":null,"dir":"Reference","previous_headings":"","what":"Read ini file core function — read_ini","title":"Read ini file core function — read_ini","text":"Read ini file core function","code":""},{"path":"https://insightrx.github.io/luna/reference/read_ini.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read ini file core function — read_ini","text":"","code":"read_ini(fn)"},{"path":"https://insightrx.github.io/luna/reference/read_table_nm.html","id":null,"dir":"Reference","previous_headings":"","what":"NONMEM output table import function — read_table_nm","title":"NONMEM output table import function — read_table_nm","text":"Quickly import NONMEM output tables R. Function taken modelviz package Benjamin Guiastrennec. skip header NULL, read_nmtab automatically detect optimal settings import tables. one files provided NONMEM run, combined single data.frame.","code":""},{"path":"https://insightrx.github.io/luna/reference/read_table_nm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NONMEM output table import function — read_table_nm","text":"","code":"read_table_nm(   file = NULL,   skip = NULL,   header = NULL,   rm_duplicates = FALSE,   nonmem_tab = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/read_table_nm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"NONMEM output table import function — read_table_nm","text":"file full file name skip number lines skip reading data header logical value indicating whether file contains names variables first line rm_duplicates logical value indicating whether duplicated columns removed nonmem_tab logical value indicating function whether file table nonmem additional output file.","code":""},{"path":"https://insightrx.github.io/luna/reference/read_table_nm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"NONMEM output table import function — read_table_nm","text":"data.frame","code":""},{"path":"https://insightrx.github.io/luna/reference/read_table_nm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"NONMEM output table import function — read_table_nm","text":"","code":"if (FALSE) { # \\dontrun{ data <- read_table_nm(file = '../models/pk/sdtab101') } # }"},{"path":"https://insightrx.github.io/luna/reference/read_yaml_safe.html","id":null,"dir":"Reference","previous_headings":"","what":"Safe way to read YAML — read_yaml_safe","title":"Safe way to read YAML — read_yaml_safe","text":"Workaround avoid issue \"n\" entries https://github.com/vubiostat/r-yaml/issues/122)","code":""},{"path":"https://insightrx.github.io/luna/reference/read_yaml_safe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Safe way to read YAML — read_yaml_safe","text":"","code":"read_yaml_safe(filename)"},{"path":"https://insightrx.github.io/luna/reference/read_yaml_safe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Safe way to read YAML — read_yaml_safe","text":"filename YAML file parse","code":""},{"path":"https://insightrx.github.io/luna/reference/remove_table_from_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove all $TABLE records from a model — remove_table_from_model","title":"Remove all $TABLE records from a model — remove_table_from_model","text":"Remove $TABLE records model","code":""},{"path":"https://insightrx.github.io/luna/reference/remove_table_from_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove all $TABLE records from a model — remove_table_from_model","text":"","code":"remove_table_from_model(model, variables, firstonly = FALSE, file)"},{"path":"https://insightrx.github.io/luna/reference/remove_table_from_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove all $TABLE records from a model — remove_table_from_model","text":"model pharmpy model object variables character vector variable names firstonly add FIRSTONLY parameter $TABLE record file path file, e.g. sdtab","code":""},{"path":"https://insightrx.github.io/luna/reference/remove_table_sections.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to remove all $TABLE sections — remove_table_sections","title":"Function to remove all $TABLE sections — remove_table_sections","text":"Function remove $TABLE sections","code":""},{"path":"https://insightrx.github.io/luna/reference/remove_table_sections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to remove all $TABLE sections — remove_table_sections","text":"","code":"remove_table_sections(text)"},{"path":"https://insightrx.github.io/luna/reference/remove_tables_from_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove all $TABLE records from a model — remove_tables_from_model","title":"Remove all $TABLE records from a model — remove_tables_from_model","text":"Remove $TABLE records model","code":""},{"path":"https://insightrx.github.io/luna/reference/remove_tables_from_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove all $TABLE records from a model — remove_tables_from_model","text":"","code":"remove_tables_from_model(model, file)"},{"path":"https://insightrx.github.io/luna/reference/remove_tables_from_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove all $TABLE records from a model — remove_tables_from_model","text":"model pharmpy model object variables character vector variable names firstonly add FIRSTONLY parameter $TABLE record","code":""},{"path":"https://insightrx.github.io/luna/reference/run_nlme.html","id":null,"dir":"Reference","previous_headings":"","what":"Run model in NONMEM — run_nlme","title":"Run model in NONMEM — run_nlme","text":"Run model directly using nmfe (pharmpy). reliable way running NONMEM, now possible stream stdout stderr file console, useful inspection intermediate model fit.","code":""},{"path":"https://insightrx.github.io/luna/reference/run_nlme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run model in NONMEM — run_nlme","text":"","code":"run_nlme(   model,   data = NULL,   id,   path = getwd(),   method = c(\"nmfe\", \"pharmpy\", \"psn\"),   nmfe = get_nmfe_location_for_run(),   force = FALSE,   console = FALSE,   save_fit = TRUE,   save_summary = TRUE,   auto_stack_encounters = TRUE,   clean = TRUE,   as_job = FALSE,   verbose = TRUE )"},{"path":"https://insightrx.github.io/luna/reference/run_nlme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run model in NONMEM — run_nlme","text":"model pharmpy model object NONMEM model code (character) path NONMEM model file. data dataset (data.frame). Optional, can also included model object (specified pharmpy model object). id run id, e.g. run1. folder NONMEM model run. folder specified, create folder run1 current working directory, increment run number subsequent run. path path nonmem model. specified, assume current working directory. method run method, either pharmpy dispatch, nmfe psn (psn::execute). nmfe full path nmfe file run NONMEM , method==\"nmfe\". force run folder (id) exists, existing results removed rerunning NONMEM? Default FALSE. console show stderr stdout R console? FALSE, stream files stdout stderr fit folder. save_fit save fit object. TRUE, save <run_id.rds>. Can also specify filename (rds) save . save_summary save fit summary parameter estimates file? Default TRUE. use current folder, save fit_summary_<id>.txt fit_parameters_<id>.csv. auto_stack_encounters invoked data argument supplied, pharmpy model object supplied without data. Detects TIME within individual decreasing one record another, NONMEM handle. happens, add reset event (EVID=3) time, increase TIME subsequent events NONMEM throw error. increase time next encounter maximum encounter length across subjects dataset (rounded 100). decreasing TIME detected, nothing done (common case). feature useful e.g. crossover trials data individual ispresent included dataset time--dose actual time since first overall dose. clean clean run folder NONMEM execution? as_job run RStudio job? verbose verbose output?","code":""},{"path":"https://insightrx.github.io/luna/reference/run_nlme.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run model in NONMEM — run_nlme","text":"function take pharmpy model input (optionally), uses pharmpy read results model fit, returns pharmpy modelfit object.","code":""},{"path":"https://insightrx.github.io/luna/reference/run_psn.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a PsN tool — run_psn","title":"Run a PsN tool — run_psn","text":"Run PsN tool","code":""},{"path":"https://insightrx.github.io/luna/reference/run_psn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a PsN tool — run_psn","text":"","code":"run_psn(model)"},{"path":"https://insightrx.github.io/luna/reference/runs_as_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert runs in a project object to a data.frame — runs_as_table","title":"Convert runs in a project object to a data.frame — runs_as_table","text":"Convert runs project object data.frame","code":""},{"path":"https://insightrx.github.io/luna/reference/runs_as_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert runs in a project object to a data.frame — runs_as_table","text":"","code":"runs_as_table(x)"},{"path":"https://insightrx.github.io/luna/reference/save_model_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Save model code to a markdown file — save_model_code","title":"Save model code to a markdown file — save_model_code","text":"Save model code markdown file","code":""},{"path":"https://insightrx.github.io/luna/reference/save_model_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save model code to a markdown file — save_model_code","text":"","code":"save_model_code(model, path)"},{"path":"https://insightrx.github.io/luna/reference/save_model_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save model code to a markdown file — save_model_code","text":"model nlmixr2 model object path path .md file save model code ","code":""},{"path":"https://insightrx.github.io/luna/reference/save_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Save a project to a YAML file — save_project","title":"Save a project to a YAML file — save_project","text":"Save project YAML file","code":""},{"path":"https://insightrx.github.io/luna/reference/save_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save a project to a YAML file — save_project","text":"","code":"save_project(project, path, verbose = FALSE, force = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/save_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save a project to a YAML file — save_project","text":"project uno project object path path file save project verbose verbosity force force saving file, even already exists","code":""},{"path":"https://insightrx.github.io/luna/reference/set_iiv.html","id":null,"dir":"Reference","previous_headings":"","what":"Set inter-individual variability on parameters — set_iiv","title":"Set inter-individual variability on parameters — set_iiv","text":"Set inter-individual variability parameters","code":""},{"path":"https://insightrx.github.io/luna/reference/set_iiv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set inter-individual variability on parameters — set_iiv","text":"","code":"set_iiv(mod, iiv, iiv_type)"},{"path":"https://insightrx.github.io/luna/reference/set_iiv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set inter-individual variability on parameters — set_iiv","text":"mod pharmpy model object iiv parameters put IIV . Can one three formats: character: basic. character: c(\"CL\", \"V\"). assume SD 0.5 initial estimate. list numeric: e.g. list(CL = 0.5, V = 0.5) SD initial estimates. iiv_type one IIV types accepted pharmr::add_iiv(), .e. add, prop, exp (default), log, re_log.","code":""},{"path":"https://insightrx.github.io/luna/reference/set_residual_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Logic to set the residual error model structure for the model — set_residual_error","title":"Logic to set the residual error model structure for the model — set_residual_error","text":"Logic set residual error model structure model","code":""},{"path":"https://insightrx.github.io/luna/reference/set_residual_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logic to set the residual error model structure for the model — set_residual_error","text":"","code":"set_residual_error(mod, ruv)"},{"path":"https://insightrx.github.io/luna/reference/stack_encounters.html","id":null,"dir":"Reference","previous_headings":"","what":"Stack encounters when data from multiple encounters is available for the same ID, and TIME is starting at 0 for each encounter. — stack_encounters","title":"Stack encounters when data from multiple encounters is available for the same ID, and TIME is starting at 0 for each encounter. — stack_encounters","text":"Stack encounters data multiple encounters available ID, TIME starting 0 encounter.","code":""},{"path":"https://insightrx.github.io/luna/reference/stack_encounters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stack encounters when data from multiple encounters is available for the same ID, and TIME is starting at 0 for each encounter. — stack_encounters","text":"","code":"stack_encounters(   data,   gap = 100,   reset_encounters = TRUE,   time = \"TIME\",   verbose = FALSE )"},{"path":"https://insightrx.github.io/luna/reference/stack_encounters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stack encounters when data from multiple encounters is available for the same ID, and TIME is starting at 0 for each encounter. — stack_encounters","text":"data NONMEM input dataset gap rounding resolution next . E.g. set 100 maximum encounter length data 168 hours, start encounters t = 0, 200, 400 etc. reset_encounters add EVID=3 event reset compartments 0 starting new encounter? Default TRUE. time time column, \"TIME\" default verbose verbose output","code":""},{"path":"https://insightrx.github.io/luna/reference/truncate_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply column width truncation based on console width and relative width specs — truncate_columns","title":"Apply column width truncation based on console width and relative width specs — truncate_columns","text":"Apply column width truncation based console width relative width specs","code":""},{"path":"https://insightrx.github.io/luna/reference/truncate_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply column width truncation based on console width and relative width specs — truncate_columns","text":"","code":"truncate_columns(df, width_specs, total_width = NULL)"},{"path":"https://insightrx.github.io/luna/reference/update_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Update luna project cache — update_cache","title":"Update luna project cache — update_cache","text":"Update luna project cache","code":""},{"path":"https://insightrx.github.io/luna/reference/update_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update luna project cache — update_cache","text":"","code":"update_cache(project, verbose = FALSE)"},{"path":"https://insightrx.github.io/luna/reference/update_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update luna project cache — update_cache","text":"verbose verbosity","code":""},{"path":"https://insightrx.github.io/luna/reference/validate_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate id — validate_id","title":"Validate id — validate_id","text":"Validate id","code":""},{"path":"https://insightrx.github.io/luna/reference/validate_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate id — validate_id","text":"","code":"validate_id(id)"},{"path":"https://insightrx.github.io/luna/reference/validate_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate id — validate_id","text":"id run id","code":""},{"path":"https://insightrx.github.io/luna/reference/validate_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate the specified model, ensure it's valid Pharmpy model — validate_model","title":"Validate the specified model, ensure it's valid Pharmpy model — validate_model","text":"Validate specified model, ensure valid Pharmpy model","code":""},{"path":"https://insightrx.github.io/luna/reference/validate_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate the specified model, ensure it's valid Pharmpy model — validate_model","text":"","code":"validate_model(model)"}]
